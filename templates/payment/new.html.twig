{% extends 'base.html.twig' %}

{% block title %}
    {{ campaign.title }}
    | Participez
{% endblock %}

{% block body %}
    <div class="parallax-container valign-wrapper">
        <div class="section no-pad-bot">
            <div class="container">
                <h1 class="header center white-text light">{{ campaign.title }}</h1>
                <div class="row center">
                    <h5 class="header col s12 light">- Organisée par :
                        {{ campaign.author }}
                        -</h5>
                </div>
            </div>
        </div>
        <div class="parallax"><img alt="Titre de la campagne" src="{{ asset('assets/images/8.jpg') }}"></div>
    </div>

    <div class="container">
        <div class="section">
            <div class="row">
                <div class="col s12 center">
                    <h4>Participez en quelques secondes</h4>
                </div>
            </div>
            <!--   Form Section   -->
            <div class="card">
                <div class="card-content">
                    <div class="row">
                        <form action="{{ path('payment_new', {id: campaign.id}) }}" method="POST">
                            <h5 class="center">Votre identité</h5>
                            <div class="input-field col s12 l6">
                                {{ form_errors(form.participant.email) }}
                                {{ form_label(form.participant.email, 'Votre email') }}
                                {{ form_widget(form.participant.email, {attr: {class: 'validate'} }) }}
                            </div>
                            <div class="input-field col s12 l6">
                                {{ form_errors(form.amount) }}
                                {{ form_label(form.amount, 'Votre participation') }}
                                {{ form_widget(form.amount, {attr: {class: 'validate'} }) }}
                            </div>
                            <p>
                                <label>
                                    {{ form_errors(form.hideIdentity) }}
                                    <input name="payment[hideIdentity]" type="checkbox">
                                    <span>Masquer mon identité auprès des autres participants</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    {{ form_errors(form.hideAmount) }}
                                    <input name="payment[hideAmount]" type="checkbox">
                                    <span>Masquer le montant de ma participation auprès des autres participants</span>
                                </label>
                            </p>
                            <div class="clearfix"></div>
                            <h5 class="center">Paiement</h5>
                            <div class="input-field col s12">
                                {{ form_errors(form.cardName) }}
                                <input class="validate" id="card_name" name="payment[cardName]" type="text">
                                <label for="card_name">Nom sur la carte</label>
                            </div>
                            <div class="input-field col s12">
                                {{ form_errors(form.cardNumber) }}
                                <input class="validate" id="card_number" name="payment[cardNumber]" type="text">
                                <label for="card_number">Numéro de la carte</label>
                            </div>
                            <div class="input-field col s12 l8">
                                {{ form_errors(form.cardExpirationDate) }}
                                {# {{ form_label(form.cardExpirationDate, 'Date d\'expiration') }}
                                {{ form_widget(form.cardExpirationDate) }} #}

                                <input class="datepicker" id="card_expiration_date" name="payment[cardExpirationDate]" type="text">
                                <label for="card_expiration_date">Date d'expiration</label>
                            </div>
                            <div class="input-field col s12 l4">
                                {{ form_errors(form.cardCVV) }}
                                <input class="validate" id="card_cvv" name="payment[cardCVV]" type="text">
                                <label for="card_cvv">CVV</label>
                            </div>
                            <div class="input-field col s12 l6">
                                <a class="btn btn-large waves-effect waves-light grey col s12" href="{{ path('campaign_show', {id: campaign.id}) }}">Annuler</a>
                            </div>
                            <div class="input-field col s12 l6">
                                <button class="btn btn-large waves-effect waves-light pink lighten-1 col s12" name="action" type="submit">
                                    Participer
                                    <i class="material-icons right">euro_symbol</i>
                                </button>
                            </div>
                            {{ form_row(form._token) }}


                            <form></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="section">
                    <div class="row">
                        <div class="col s12 center">
                            <h4>Comment ça marche ?</h4>
                        </div>
                    </div>
                    <!--   Icon Section   -->
                    <div class="row">
                        <div class="col s12 m4">
                            <div class="icon-block center">
                                <div class="btn-large btn-floating white">
                                    <i class="material-icons teal-text">create</i>
                                </div>
                                <h5 class="center">Créez</h5>
                                <p class="light">et personnalisez votre campagne commune en 30 secondes !</p>
                            </div>
                        </div>

                        <div class="col s12 m4">
                            <div class="icon-block center">
                                <div class="btn-large btn-floating white">
                                    <i class="material-icons teal-text">wc</i>
                                </div>
                                <h5 class="center">Invitez</h5>
                                <p class="light">vos amis en utilisant les réseaux sociaux, mail, etc.</p>
                            </div>
                        </div>

                        <div class="col s12 m4">
                            <div class="icon-block center">
                                <div class="btn-large btn-floating white">
                                    <i class="material-icons teal-text">shopping_cart</i>
                                </div>
                                <h5 class="center">Collectez</h5>
                                <p class="light">et utilisez l'argent comme bon vous semble avec vos amis.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
